exports.id=133,exports.ids=[133],exports.modules={4780:(e,t,o)=>{"use strict";o.d(t,{cn:()=>s});var r=o(49384),n=o(82348);function s(...e){return(0,n.QP)((0,r.$)(e))}},7126:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,4536,23)),Promise.resolve().then(o.bind(o,34923)),Promise.resolve().then(o.bind(o,18862)),Promise.resolve().then(o.bind(o,37144)),Promise.resolve().then(o.bind(o,79737))},12909:(e,t,o)=>{"use strict";o.d(t,{Ht:()=>u,K5:()=>p,ME:()=>m,jw:()=>l});var r=o(76784),n=o(99302),s=o(44999);o(32190);let a=process.env.AUTH_SECRET;if(!a)throw Error("AUTH_SECRET environment variable is not set");let i=new TextEncoder().encode(a);async function c(e){return await new r.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("1h").sign(i)}async function d(e){try{let{payload:t}=await (0,n.V)(e,i,{algorithms:["HS256"]});return t}catch(e){return console.error("JWT verification failed:",e),null}}async function l(e){let t=new Date(Date.now()+36e5),o=await c(e);(0,s.UL)().set("session",o,{expires:t,httpOnly:!0,secure:!0,path:"/"})}async function u(){let e=s.UL().get("session")?.value;if(!e)return null;let t=await d(e);return t&&t.userId&&t.accessToken?t:null}async function m(){(0,s.UL)().delete("session")}async function p(e){let t=e.cookies.get("session")?.value;if(!t)return null;let o=await d(t);return o&&o.userId&&o.accessToken?o:null}},14947:(e,t,o)=>{"use strict";o.d(t,{Toaster:()=>b});var r=o(60687),n=o(29867),s=o(43210),a=o(18810),i=o(24224),c=o(78726),d=o(4780);let l=a.Kq,u=s.forwardRef(({className:e,...t},o)=>(0,r.jsx)(a.LM,{ref:o,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u.displayName=a.LM.displayName;let m=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=s.forwardRef(({className:e,variant:t,...o},n)=>(0,r.jsx)(a.bL,{ref:n,className:(0,d.cn)(m({variant:t}),e),...o}));p.displayName=a.bL.displayName,s.forwardRef(({className:e,...t},o)=>(0,r.jsx)(a.rc,{ref:o,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=a.rc.displayName;let f=s.forwardRef(({className:e,...t},o)=>(0,r.jsx)(a.bm,{ref:o,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}));f.displayName=a.bm.displayName;let h=s.forwardRef(({className:e,...t},o)=>(0,r.jsx)(a.hE,{ref:o,className:(0,d.cn)("text-sm font-semibold",e),...t}));h.displayName=a.hE.displayName;let g=s.forwardRef(({className:e,...t},o)=>(0,r.jsx)(a.VY,{ref:o,className:(0,d.cn)("text-sm opacity-90",e),...t}));function b(){let{toasts:e}=(0,n.dj)();return(0,r.jsxs)(l,{children:[e.map(function({id:e,title:t,description:o,action:n,...s}){return(0,r.jsxs)(p,{...s,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&(0,r.jsx)(h,{children:t}),o&&(0,r.jsx)(g,{children:o})]}),n,(0,r.jsx)(f,{})]},e)}),(0,r.jsx)(u,{})]})}g.displayName=a.VY.displayName},18862:(e,t,o)=>{"use strict";o.d(t,{Avatar:()=>n,AvatarFallback:()=>a,AvatarImage:()=>s});var r=o(12907);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/avatar.tsx","Avatar"),s=(0,r.registerClientReference)(function(){throw Error("Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/avatar.tsx","AvatarImage"),a=(0,r.registerClientReference)(function(){throw Error("Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/avatar.tsx","AvatarFallback")},18864:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,86346,23)),Promise.resolve().then(o.t.bind(o,27924,23)),Promise.resolve().then(o.t.bind(o,35656,23)),Promise.resolve().then(o.t.bind(o,40099,23)),Promise.resolve().then(o.t.bind(o,38243,23)),Promise.resolve().then(o.t.bind(o,28827,23)),Promise.resolve().then(o.t.bind(o,62763,23)),Promise.resolve().then(o.t.bind(o,97173,23))},21342:(e,t,o)=>{"use strict";o.d(t,{DropdownMenu:()=>l,DropdownMenuContent:()=>m,DropdownMenuItem:()=>p,DropdownMenuLabel:()=>f,DropdownMenuSeparator:()=>h,DropdownMenuTrigger:()=>u});var r=o(60687),n=o(43210),s=o(7867),a=o(74158),i=o(58450),c=o(73256),d=o(4780);let l=s.bL,u=s.l9;s.YJ,s.ZL,s.Pb,s.z6,n.forwardRef(({className:e,inset:t,children:o,...n},i)=>(0,r.jsxs)(s.ZP,{ref:i,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[o,(0,r.jsx)(a.A,{className:"ml-auto"})]})).displayName=s.ZP.displayName,n.forwardRef(({className:e,...t},o)=>(0,r.jsx)(s.G5,{ref:o,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=s.G5.displayName;let m=n.forwardRef(({className:e,sideOffset:t=4,...o},n)=>(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{ref:n,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));m.displayName=s.UC.displayName;let p=n.forwardRef(({className:e,inset:t,...o},n)=>(0,r.jsx)(s.q7,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...o}));p.displayName=s.q7.displayName,n.forwardRef(({className:e,children:t,checked:o,...n},a)=>(0,r.jsxs)(s.H_,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:o,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),t]})).displayName=s.H_.displayName,n.forwardRef(({className:e,children:t,...o},n)=>(0,r.jsxs)(s.hN,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(c.A,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=s.hN.displayName;let f=n.forwardRef(({className:e,inset:t,...o},n)=>(0,r.jsx)(s.JU,{ref:n,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...o}));f.displayName=s.JU.displayName;let h=n.forwardRef(({className:e,...t},o)=>(0,r.jsx)(s.wv,{ref:o,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));h.displayName=s.wv.displayName},29523:(e,t,o)=>{"use strict";o.d(t,{$:()=>d});var r=o(60687),n=o(43210),s=o(8730),a=o(24224),i=o(4780);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:o,asChild:n=!1,...a},d)=>{let l=n?s.DX:"button";return(0,r.jsx)(l,{className:(0,i.cn)(c({variant:t,size:o,className:e})),ref:d,...a})});d.displayName="Button"},29867:(e,t,o)=>{"use strict";o.d(t,{dj:()=>m});var r=o(43210);let n=0,s=new Map,a=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:o}=t;return o?a(o):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function l(e){d=i(d,e),c.forEach(e=>{e(d)})}function u({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||o()}}}),{id:t,dismiss:o,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},30686:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,85814,23)),Promise.resolve().then(o.bind(o,71265)),Promise.resolve().then(o.bind(o,32584)),Promise.resolve().then(o.bind(o,21342)),Promise.resolve().then(o.bind(o,14947))},32584:(e,t,o)=>{"use strict";o.d(t,{Avatar:()=>i,AvatarFallback:()=>d,AvatarImage:()=>c});var r=o(60687),n=o(43210),s=o(92951),a=o(4780);let i=n.forwardRef(({className:e,...t},o)=>(0,r.jsx)(s.bL,{ref:o,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));i.displayName=s.bL.displayName;let c=n.forwardRef(({className:e,...t},o)=>(0,r.jsx)(s._V,{ref:o,className:(0,a.cn)("aspect-square h-full w-full",e),...t}));c.displayName=s._V.displayName;let d=n.forwardRef(({className:e,...t},o)=>(0,r.jsx)(s.H4,{ref:o,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d.displayName=s.H4.displayName},34923:(e,t,o)=>{"use strict";o.d(t,{ThemeToggleButton:()=>r});let r=(0,o(12907).registerClientReference)(function(){throw Error("Attempted to call ThemeToggleButton() from the server but ThemeToggleButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/common/ThemeToggleButton.tsx","ThemeToggleButton")},37144:(e,t,o)=>{"use strict";o.d(t,{DropdownMenu:()=>n,DropdownMenuContent:()=>a,DropdownMenuItem:()=>i,DropdownMenuLabel:()=>c,DropdownMenuSeparator:()=>d,DropdownMenuTrigger:()=>s});var r=o(12907);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenu() from the server but DropdownMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenu"),s=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuTrigger() from the server but DropdownMenuTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuTrigger"),a=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuContent() from the server but DropdownMenuContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuContent"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuItem() from the server but DropdownMenuItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuItem");(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuCheckboxItem() from the server but DropdownMenuCheckboxItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuCheckboxItem"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuRadioItem() from the server but DropdownMenuRadioItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuRadioItem");let c=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuLabel() from the server but DropdownMenuLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuLabel"),d=(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuSeparator() from the server but DropdownMenuSeparator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuSeparator");(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuShortcut() from the server but DropdownMenuShortcut is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuShortcut"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuGroup() from the server but DropdownMenuGroup is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuGroup"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuPortal() from the server but DropdownMenuPortal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuPortal"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuSub() from the server but DropdownMenuSub is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuSub"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuSubContent() from the server but DropdownMenuSubContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuSubContent"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuSubTrigger() from the server but DropdownMenuSubTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuSubTrigger"),(0,r.registerClientReference)(function(){throw Error("Attempted to call DropdownMenuRadioGroup() from the server but DropdownMenuRadioGroup is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/dropdown-menu.tsx","DropdownMenuRadioGroup")},53875:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>A,metadata:()=>j});var r=o(37413),n=o(90848),s=o.n(n);o(61135);var a=o(79737),i=o(6329),c=o(93880),d=o(69679),l=o(4536),u=o.n(l),m=o(61120),p=o(70403),f=o(50662),h=o(75986),g=o(8974);let b=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=m.forwardRef(({className:e,variant:t,size:o,asChild:n=!1,...s},a)=>{let i=n?p.DX:"button";return(0,r.jsx)(i,{className:function(...e){return(0,g.QP)((0,h.$)(e))}(b({variant:t,size:o,className:e})),ref:a,...s})});v.displayName="Button";var w=o(18862),x=o(37144),y=o(66628),C=o(34923);async function N(){let e=await (0,y.HW)();return(0,r.jsx)("header",{className:"bg-primary text-primary-foreground sticky top-0 z-50 shadow-md",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[(0,r.jsxs)(u(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[(0,r.jsx)(i.A,{className:"h-8 w-8"}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"RepoRover"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(C.ThemeToggleButton,{}),e?(0,r.jsxs)(x.DropdownMenu,{children:[(0,r.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)(v,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0",children:(0,r.jsxs)(w.Avatar,{className:"h-9 w-9",children:[(0,r.jsx)(w.AvatarImage,{src:`https://github.com/${e.name}.png`,alt:e.name}),(0,r.jsx)(w.AvatarFallback,{children:e.name?.charAt(0).toUpperCase()||(0,r.jsx)(c.A,{})})]})})}),(0,r.jsxs)(x.DropdownMenuContent,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(x.DropdownMenuLabel,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none text-foreground",children:e.name}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),(0,r.jsx)(x.DropdownMenuSeparator,{}),(0,r.jsx)("form",{action:y.Zm,children:(0,r.jsx)(x.DropdownMenuItem,{asChild:!0,children:(0,r.jsxs)("button",{type:"submit",className:"w-full flex items-center text-left",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Log out"]})})})]})]}):(0,r.jsx)(v,{asChild:!0,variant:"default",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:(0,r.jsx)(u(),{href:"/login",children:"Login"})})]})]})})}let j={title:"RepoRover",description:"Manage GitHub repositories with ease."};function A({children:e}){return(0,r.jsx)("html",{lang:"en",className:`${s().variable}`,suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:"font-sans antialiased bg-background text-foreground",children:(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(N,{}),(0,r.jsx)("main",{className:"flex-grow",children:e}),(0,r.jsx)(a.Toaster,{})]})})})}},60720:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,16444,23)),Promise.resolve().then(o.t.bind(o,16042,23)),Promise.resolve().then(o.t.bind(o,88170,23)),Promise.resolve().then(o.t.bind(o,49477,23)),Promise.resolve().then(o.t.bind(o,29345,23)),Promise.resolve().then(o.t.bind(o,12089,23)),Promise.resolve().then(o.t.bind(o,46577,23)),Promise.resolve().then(o.t.bind(o,31307,23))},61135:()=>{},66628:(e,t,o)=>{"use strict";o.d(t,{EJ:()=>C,HW:()=>A,Hv:()=>y,Yt:()=>x,Zm:()=>j,ax:()=>N});var r=o(67218);o(79130);var n=o(75506),s=o(51455),a=o.n(s),i=o(76760),c=o.n(i),d=o(20284),l=o.n(d),u=o(12909),m=o(62351),p=o(39916),f=o(17478);let h=c().join(process.cwd(),"cloned_repos"),g=c().join(process.cwd(),"zipped_repos"),b=c().join(process.cwd(),"temp_uploads"),v=process.cwd();async function w(e){try{await a().access(e)}catch{await a().mkdir(e,{recursive:!0})}}async function x(e,t){if(!e||!t)return{success:!1,message:"Name and email are required for Git configuration."};try{return console.log(`Attempting to set git global user.name to: ${e}`),await (0,n.Ho)("git",["config","--global","user.name",e],{cwd:v}),console.log(`Attempting to set git global user.email to: ${t}`),await (0,n.Ho)("git",["config","--global","user.email",t],{cwd:v}),console.log("Global git user.name and user.email configured successfully."),{success:!0,message:"Global git user.name and user.email configured successfully."}}catch(e){return console.error("Failed to configure global git user:",e.stderr||e.message),{success:!1,message:`Failed to configure global git user: ${e.stderr||e.message}`}}}async function y(e,t,o){if(!e)return{success:!1,message:"Personal Access Token is required."};try{let t=await fetch("https://api.github.com/user",{headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok){let e=await t.json().catch(()=>({})),o=e.message||`Failed to verify PAT. Status: ${t.status}`;return console.error("GitHub PAT verification error:",o,e),{success:!1,message:`Invalid Personal Access Token or insufficient scopes (requires read:user). ${o}`}}let r=await t.json();if(!r.id||!r.login)return console.error("Failed to fetch valid user data from GitHub with PAT"),{success:!1,message:"Failed to fetch user data using PAT. Token might be malformed or lack `read:user` scope."};let n=o,s=await fetch("https://api.github.com/user/emails",{headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json"}});if(s.ok){let e=await s.json(),t=e.find(e=>e.primary&&e.verified)?.email;t?n=t:r.email&&(n=r.email)}else console.warn("Could not fetch user emails with PAT (requires user:email scope), will use provided email for session or public profile email if available."),r.email&&(n=r.email);let a={userId:String(r.id),name:r.login,email:n,accessToken:e};return await (0,u.jw)(a),{success:!0,message:"Logged in successfully."}}catch(e){return console.error("Login with PAT error:",e),{success:!1,message:e instanceof Error?e.message:"An unknown error occurred during PAT login."}}}async function C(e){let t,o;let r=await (0,u.Ht)();if(!r?.accessToken)return{success:!1,message:"User not authenticated or access token missing."};try{if(!e||!e.startsWith("https://github.com/"))return{success:!1,message:"Invalid GitHub repository URL."};await w(h),await w(g),o=new URL(e).pathname.split("/").pop()?.replace(".git","")||`repo-${Date.now()}`,t=c().join(h,o);let s=!0;try{await a().access(t);try{await (0,n.Ho)("git",["rev-parse","--is-inside-work-tree"],{cwd:t}),s=!1}catch(e){console.warn(`Directory ${t} exists but is not a git repository or is problematic. Cleaning and re-cloning.`),await a().rm(t,{recursive:!0,force:!0})}}catch(e){if("ENOENT"!==e.code)throw e}let i=s?"Repository cloning initiated.":"Repository was already present.";if(s){let o=new URL(e).pathname.substring(1).replace(/\.git$/,""),s=`https://oauth2:${r.accessToken}@github.com/${o}.git`,{stdout:a,stderr:c}=await (0,n.Ho)("git",["clone",s,t]);!c||c.toLowerCase().includes("cloning into")||c.toLowerCase().includes("already exists and is not an empty directory")||console.warn(`Clone stderr for ${e}: ${c}`),i="Repository cloned successfully."}let d=new(l());if(!t)return{success:!1,message:"Internal error: target path for zipping is undefined."};d.addLocalFolder(t);let u=`${o}.zip`,m=c().join(g,u);await d.writeZipPromise(m),i+=` Zipped as ${u}.`;try{await a().rm(t,{recursive:!0,force:!0}),console.log(`Cleaned up cloned repository at ${t}`),i+=" Original cloned files have been cleaned up."}catch(e){console.warn(`Failed to clean up cloned repository at ${t}: ${e.message}`),i+=" Warning: Failed to clean up original cloned files."}return{success:!0,message:i,zipFileName:u}}catch(r){console.error("Clone error:",r);let o=`Failed to clone or zip repository: ${r.stderr||r.message||r.shortMessage||"Unknown error"}`;if(r.stderr?.includes("Authentication failed")?o="Failed to clone repository: Authentication failed. Your GitHub PAT might be invalid, expired, or lack permissions for this repository.":r.stderr?.includes("not found")&&(o=`Failed to clone repository: Repository not found at ${e}. Check the URL and permissions.`),t)try{await a().access(t),await a().rm(t,{recursive:!0,force:!0}),console.log(`Cleaned up ${t} after error.`)}catch(e){console.warn(`Failed to clean up ${t} after error: ${e.message}`)}return{success:!1,message:o}}}async function N(e){let t=await (0,u.Ht)();if(!t?.name||!t?.email||!t?.accessToken)return{success:!1,message:"User not fully authenticated or session data incomplete."};let{name:o,email:r,accessToken:s}=t,i=e.get("zipFile"),d=e.get("targetRepoUrl"),m=e.get("branch"),p=e.get("commitMessage");if(!i||0===i.size)return{success:!1,message:"No source code ZIP file provided."};if(!d)return{success:!1,message:"Target repository URL is required."};if(!m)return{success:!1,message:"Branch name is required."};let f=m.trim();if(""===f)return{success:!1,message:"Branch name cannot be empty after trimming spaces."};if(!p)return{success:!1,message:"Commit message is required."};await w(b);let h=`upload-${Date.now()}`,g=c().join(b,h);try{await a().mkdir(g,{recursive:!0});let e=Buffer.from(await i.arrayBuffer());new(l())(e).extractAllTo(g,!0);let t=async(...e)=>(console.log(`Executing: git ${e.join(" ")} in ${g}`),(0,n.Ho)("git",e,{cwd:g}));await t("init"),await t("config","user.name",o),await t("config","user.email",r);let c=new URL(d).pathname.substring(1).replace(/\.git$/,""),u=`https://${o}:${s}@github.com/${c}.git`;await t("remote","add","origin",u),await t("add",".");let{stdout:m}=await t("status","--porcelain");if(!m.trim()){let{stdout:e}=await t("ls-files");if(!e.trim())return{success:!1,message:"Push failed: The provided ZIP file seems to be empty or contains no committable files after staging."};console.warn("No changes to commit based on git status, but files are present. Proceeding with commit attempt.")}await t("commit","-m",p,"--allow-empty"),await t("branch","-M",f);let h=!1;try{await t("ls-remote","--exit-code","--heads","origin",f),h=!0}catch(e){if(2===e.exitCode)h=!1;else throw e}if(h)try{await t("fetch","origin",f),await t("branch",`--set-upstream-to=origin/${f}`,f)}catch(e){console.warn(`Failed to fetch/set-upstream before push (branch: ${f}): ${e.stderr||e.message}. Proceeding with push attempt.`)}return await t("push","--set-upstream","origin",f),{success:!0,message:`Code pushed successfully to ${d} on branch ${f} with commit: "${p}"`}}catch(t){console.error("Push error:",t);let e=`Failed to push code: ${t.stderr||t.message||t.shortMessage||"Unknown error"}`;return t.stderr?t.stderr.includes("non-fast-forward")?e=`Push failed due to non-fast-forward updates. Please ensure your local branch '${f}' is up-to-date with the remote, or try pushing to a new branch. You might need to pull and merge changes.`:t.stderr.includes("Authentication failed")?e="Push failed: Authentication failed. Your GitHub PAT might be invalid, expired, or lack push permissions for this repository.":t.stderr.includes("src refspec")&&t.stderr.includes("does not match any")?e=`Push failed: Git could not find the local source branch '${f}' to push. This might happen if the branch name is incorrect, if the branch was not created properly, or if there were no commits made.`:t.stderr.includes("remote end hung up unexpectedly")?e="Push failed: Remote end hung up unexpectedly. This could be due to a large push, network issues, or server-side limits.":t.stderr.includes("everything up-to-date")&&(e=`Push failed: Everything is up-to-date. No new changes to push to branch '${f}'.`):t.message?.includes("ENOENT")&&t.command?.includes("git commit")?e="Push failed: Commit step failed. This might be due to an empty repository with no files to commit. Please ensure your ZIP file contains files.":t.message?.includes("failed with exit code 1")&&t.command?.includes("git commit")&&!t.stderr?.includes("nothing to commit")&&(e="Push failed: Commit step failed, possibly because there were no changes to commit. Ensure your ZIP contains files and they are not all gitignored."),{success:!1,message:e}}finally{if(g)try{await a().rm(g,{recursive:!0,force:!0})}catch(e){console.error(`Failed to clean up temporary directory ${g}:`,e)}}}async function j(){await (0,u.ME)(),(0,m.revalidatePath)("/","layout"),(0,p.redirect)("/login")}async function A(){let e=await (0,u.Ht)();return e?.userId?e:null}(0,f.D)([x,y,C,N,j,A]),(0,r.A)(x,"60c51425cd7eab6644156badc6aa0d8e95ad8211d7",null),(0,r.A)(y,"70a86e62d37c1bd274ba1a8193b39f63a84ffeb5c0",null),(0,r.A)(C,"403b6eb9cd8b23212d6cd925590ffd770801ed4f56",null),(0,r.A)(N,"400481b7c8a935315f15c7d77dd3c772a858ab95ba",null),(0,r.A)(j,"00f434ca8c2da730a7c4239e55c4e8be48852ea858",null),(0,r.A)(A,"00ce30d242a19d854842b4da4e27f1a74449d7c06b",null)},71265:(e,t,o)=>{"use strict";o.d(t,{ThemeToggleButton:()=>c});var r=o(60687),n=o(43210),s=o(29848),a=o(10453),i=o(29523);function c(){let[e,t]=(0,n.useState)("light"),[o,c]=(0,n.useState)(!1);return o?(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>{t(e=>"light"===e?"dark":"light")},"aria-label":"Toggle theme",className:"w-9 h-9",children:"light"===e?(0,r.jsx)(a.A,{className:"h-[1.2rem] w-[1.2rem]"}):(0,r.jsx)(s.A,{className:"h-[1.2rem] w-[1.2rem]"})}):(0,r.jsx)(i.$,{variant:"ghost",size:"icon","aria-label":"Toggle theme",className:"w-9 h-9",disabled:!0,children:(0,r.jsx)(s.A,{className:"h-[1.2rem] w-[1.2rem]"})})}},71343:(e,t,o)=>{"use strict";o.r(t),o.d(t,{"00ce30d242a19d854842b4da4e27f1a74449d7c06b":()=>r.HW,"00f434ca8c2da730a7c4239e55c4e8be48852ea858":()=>r.Zm,"400481b7c8a935315f15c7d77dd3c772a858ab95ba":()=>r.ax,"403b6eb9cd8b23212d6cd925590ffd770801ed4f56":()=>r.EJ,"60c51425cd7eab6644156badc6aa0d8e95ad8211d7":()=>r.Yt,"70a86e62d37c1bd274ba1a8193b39f63a84ffeb5c0":()=>r.Hv});var r=o(66628)},79737:(e,t,o)=>{"use strict";o.d(t,{Toaster:()=>r});let r=(0,o(12907).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/toaster.tsx","Toaster")}};